/*
* Author: Lenny Granovsky 
* License: MIT license
*/
;if(typeof jQuery==="undefined"){throw new Error("AJAX correlation JavaScript plugin requires jQuery")}(function(b){var g="correlator";var a="ajax.correlation.id";var j=false;try{j=("sessionStorage" in window)&&window.sessionStorage!==null}catch(c){}var f={create:function(m){function k(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}var l=(m=="N")?k()+k()+k()+k()+k()+k()+k()+k():k()+k()+"-"+k()+"-"+k()+"-"+k()+"-"+k()+k()+k();return l},empty:function(k){if(k=="N"){return"00000000000000000000000000000000"}else{return"00000000-0000-0000-0000-000000000000"}}};function d(){if(j){var k=window.sessionStorage.getItem(a);if(k!=null&&k!="null"&&k.length>0){return k}}return null}function h(k){if(j){window.sessionStorage.setItem(a,k)}}var e=d();if(e===null){e=f.create();h(e)}var i={getCorrelationId:function(){return e},setCorrelationId:function(k){e=k;h(e);b.ajaxSetup({headers:{"X-CorrelationId":e}})},renewCorrelationId:function(){var k=f.create();i.setCorrelationId(k);return e}};b[g]=i;b.ajaxSetup({headers:{"X-CorrelationId":e}})})(jQuery);