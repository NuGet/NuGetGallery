@model ForgotPasswordViewModel
@{
    ViewBag.Title = "Forgot Password";
    Layout = "~/Views/Shared/Gallery/Layout.cshtml";
}

@helper HasError(string key)
{
    if (!ViewData.ModelState.IsValid &&
        ViewData.ModelState.ContainsKey(key) &&
        ViewData.ModelState[key].Errors.Any())
    {
        @:has-error
    }
}

@helper ShowErrors(string key)
{
    if (!ViewData.ModelState.IsValid && ViewData.ModelState.ContainsKey(key))
    {
        foreach (var error in ViewData.ModelState[key].Errors)
        {
            <span id="@key.ToLower()-error-description" class="help-block">@error.ErrorMessage</span>
        }
    }
}

<div class="container main-container page-forgot-password">
    <h1>Forgot Password</h1>

    <p>We are sorry to hear you forgot your NuGet.org account password. Enter your email below and we will send instructions to reset your password.</p>

    <div class="row forgot-form">
        <div class="col-sm-offset-3 col-sm-6">
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()

                <div class="form-group @HasError("Email")">
                    @Html.LabelFor(m => m.Email, new { id = "email-label" })
                    @Html.TextBoxFor(m => m.Email, new { @class = "form-control", aria_labelledby = "email-label email-error-description" })
                    @ShowErrors("Email")
                </div>
                <div class="form-group">
                    <input type="submit" class="btn btn-primary form-control" value="Send" />
                </div>
            }
        </div>
    </div>
</div>